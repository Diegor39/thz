<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300&family=Merriweather:wght@300&family=Open+Sans:wght@600&family=Poppins:wght@200&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="./walletbeacon.min.js"></script>

    <title>Hello, world!</title>
    <style>
                    @media only screen and (max-width: 1026px) {
      #fadeshow1 {
        display: none;
      }
    }

    @media only screen and (min-width: 1026px) {
      #fadeshow2 {
        display: none;
      }
    }
        h1 {
           font-family: 'Merriweather', serif;
           color: #080808;
           }
           h2 {
            font-family: 'Merriweather', serif;
            color: #080808;
           }
           h3 {
           font-family: 'Poppins', serif;
           color: #080808;
          }
          h4 {
           font-family: 'Poppins', serif;
           color: #080808;
          }
      p {
          font-family: 'Poppins', serif;
          color: #080808;
      }
       * {
 margin:0;
 padding:0;
 color:#fff;
 font-family:Arial;
}

div#imagen {
 width: 300px;
 height: 200px;
 background-size: cover;/*sólo para ejemplo*/
 background-image: url("https://www.heleneblanck.fr/_nuxt/image/76fafb.jpeg");
 margin: 30px auto;
}
div#imagen1 {
 width: 300px;
 height: 200px;
 background-size: cover;/*sólo para ejemplo*/
 background-image: url("https://www.heleneblanck.fr/_nuxt/image/c2a296.jpeg");
 margin: 30px auto;
}

div#info {
 position:absolute;
 overflow:hidden;
 width: 300px;
 height: 200px;
 background-color: rgba(31, 31, 31, 0.9);
 opacity:0;
 transition: opacity 0.3s;
}

div#imagen:hover div#imagen1:hover div#info {
 opacity:1;
}

p#headline {
 position: absolute;
 font-size: 1.5rem;
 margin-left: -75px;
 margin-top: 15px;
 transition: margin-left 0.3s;
}

div#imagen:hover, div#imagen1:hover p#headline{
 margin-left: 115px;
}

p#descripcion {
 font-size: 1rem;
 text-align: center;
 margin-top: 200px;
 transition: margin-top 0.4s;
}

div#imagen:hover, div#imagen1:hover p#descripcion{
 margin-top: 75px;
}

.btn-outline-success{
   background-color: none !important;
   color: #51acad !important;
   border-color: #51acad !important;
}

.btn-outline-success:hover, .btn-outline-success:active, .btn-outline-success:visited {
   background-color: #51acad !important;
   color: #F6EFEE !important;
}
.btn-outline-danger{
   background-color: none !important;
   color: #bb4545 !important;
   border-color: #bb4545 !important;
}

.btn-outline-danger:hover, .btn-outline-danger:active, .btn-outline-danger:visited {
   background-color: #bb4545 !important;
   color: #F6EFEE !important;
}
.btn-outline-primary{
   background-color: none !important;
   color: #4b9b79 !important;
   border-color: #4b9b79 !important;
}

.btn-outline-primary:hover, .btn-outline-primary:active, .btn-outline-primary:visited {
   background-color: #4b9b79 !important;
   color: #F6EFEE !important;
}
.div-imagen {
 display:inline-block;
 position:relative;
}

.div-imagen > div {
 position:absolute;
 top:0;
 left:0;
 z-index:-1;
 padding:10px;
 margin:0;
}

.desvanecer:hover {
 opacity: 0.07;
 -webkit-transition: opacity 500ms;
 -moz-transition: opacity 500ms;
 -o-transition: opacity 500ms;
 -ms-transition: opacity 500ms;
 transition: opacity 500ms;
}
   </style>
  </head>
  <body style="background-color: whitesmoke;">
    <section>
        <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: whitesmoke;">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <center><li class="nav-item active"><a class="nav-item nav-link" id="activeAccount"></a></li></center>
              </ul>
              <button id="requestPermission" class="btn btn-outline-success my-2 my-sm-0" style="border-radius: 5rem; font-size: 1.3rem;">Sync</button>
              <button id="reset"  class="btn btn-outline-primary my-2 my-sm-0" style="border-radius: 5rem; font-size: 1.3rem;">Disconnect</button>
            </div>
          </nav>
          <center>
            <span style="font-size: 10px;">
              <span id="activeAccountNetwork" style="display: none;"></span>
              <span id="activeAccountTransport" style="display: none;"></span>
            </span>
          </center>
    </section>

    <section style="padding-top:3.1rem;padding-bottom:3.1rem;">
        <div class="container">
            <center><h1 style="color: #080808; font-size: 5rem; width: 55%;" id="fadeshow1">Blind Gallery</h1></center>
            <center><h1 style="color: #080808; font-size: 4.5rem; width: 80%;" id="fadeshow2">Blind Gallery</h1></center>
            <h3 style="margin-top: 2rem;">Exchange your mint pass</h3>    
        </div>
    </section>

    <section>
        <div class="container" style="margin-top: 5rem;">
            <div class="card-deck">
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://www.heleneblanck.fr/_nuxt/image/76fafb.jpeg" alt="Card image cap">
                  <div class="card-body">
                    <button id="contractCall" type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;" onclick="conT1();">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                    <img class="card-img-top" src="https://www.heleneblanck.fr/_nuxt/image/c2a296.jpeg" alt="Card image cap">
                    <div class="card-body">
                      <input id="inputnum2" style="color: #080808; display: none;" type="number" min="0" max="10">
                      <button id="select2" type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;" onclick="conT2();">Mint</button>
                    </div>
                </div>



                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://www.heleneblanck.fr/_nuxt/image/7801c6.jpeg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                    <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/6/6/644266/artifact.gif" alt="Card image cap">
                    <div class="card-body">
                        <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                    </div>
                  </div>
            </div>
            <div class="card-deck">
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1Ju5sgywKXoE3v4nCVGdzWSueuDUF9mRsa/0/3/3/artifact.jpg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/9/8/694398/artifact.jpg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/9/2/643592/artifact.png" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                    <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1L7GvUxZH5tfa6cgZKnH6vpp2uVxnFVHKu/1/1/2811/artifact.png" alt="Card image cap">
                    <div class="card-body">
                        <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                    </div>
                  </div>
            </div>
            <div class="card-deck">
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://ipfs.io/ipfs/QmPsZM66erCCp8VmCUtEmhGFqG5FcFGibFkkeWFXR5nmiP" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1KT4x72W6rNicPFKBQ4Y1FcXXbxGtpoacp/0/1/1/artifact.jpg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1ARNYDh4BEXFBVC3mH2mmy4TtdXgCvWr73/5/9/59/artifact.jpg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                    <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/2/8/626428/artifact.jpg" alt="Card image cap">
                    <div class="card-body">
                        <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                    </div>
                  </div>
            </div>
            <div class="card-deck">
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://www.heleneblanck.fr/_nuxt/image/76fafb.jpeg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/2/8/626428/artifact.jpg" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                  <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/4/5/688745/artifact.png" alt="Card image cap">
                  <div class="card-body">
                    <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                  </div>
                </div>
                <div class="card" style="background-color: whitesmoke;">
                    <img class="card-img-top" src="https://assets.objkt.media/file/assets-001/KT1WVNFAdQMR8764Tf3UUTBo7WXcja5KHdPw/1/0/10/artifact.png" alt="Card image cap">
                    <div class="card-body">
                        <button type="button" class="btn btn-outline-primary " style="border-radius: 1rem; width: 100%;">Mint</button>
                    </div>
                  </div>
            </div>
        </div>

    </section>

    <section id="fadeshow1">
        <div  style="padding-bottom: 1.1rem; background-image: url('https://www.heleneblanck.fr/_nuxt/img/footer.ea32683.png?0.4712767864403582');">
            <div class="row" style="width: 100%;">
                <div class="col"><ion-icon size="large" name="logo-twitter" style="color: #F6EFEE; margin-top: 2rem; margin-left: 3rem;"></ion-icon></div>
                
                <div class="col"><p style="color: #F6EFEE;margin-top: 2rem ;text-align: right; margin-right: 3rem;">Powered by</p></div>
            </div>

            <div class="row" style="width: 100%;">
                <div class="col-9"><p style="color: #F6EFEE; margin-top: 2rem; margin-left: 3rem;">2022, Blind Gallery by WGMI Studios</p></div>              
                <div class="col-3 row">
                    <div class="col"><center><p style="color: #F6EFEE;margin-top: 2rem ;">Privacy policy.</p></center></div>
                    <div class="col"><p style="color: #F6EFEE;margin-top: 2rem ;text-align: right;">Terms of use.</p></div>
                </div> 
            </div>
                
                
        </div>
    </section>

    <section id="fadeshow2">
        <div  style="padding-bottom: 1.1rem; background-image: url('https://www.heleneblanck.fr/_nuxt/img/footer.ea32683.png?0.4712767864403582');">
            <ion-icon size="large" name="logo-twitter" style="color: #F6EFEE; margin-top: 3rem; margin-left: 3rem;"></ion-icon>
            <div class="" style="width: 90%;">
                <div class=""><p style="color: #F6EFEE;margin-top: 2rem ; margin-left: 3rem;">Privacy policy.</p></div>
                <div class=""><p style="color: #F6EFEE;margin-top: 2rem ; margin-left: 3rem;">Terms of use.</p></div> 
                <div class=""><p style="color: #F6EFEE; margin-top: 2rem; margin-left: 3rem;">2022, Blind Gallery by WGMI Studios</p></div>          
            </div>
                
                
        </div>
    </section>

    <section>
        <div style="display: none;">
            <button id="sendToSelf">Send 1 mutez to myself</button>
            <button id="connect">Connect and Delegate</button>
        
        
            <br /><br />
            <button id="reset">Reset and Refresh</button>
        
            <button id="requestPermission">Request Permission</button>
            <br /><br />
            <button id="sendToSelf">Send 1 mutez to myself</button>
            <br /><br />
            <button id="sendToSelfWithPrepare">Send 1 mutez to myself (with 1s prepare delay)</button>
            <br /><br />
            <button id="showPrepareAndHide">Show prepare and then hide</button>
            <br /><br />
            <button id="connect">Connect and Delegate</button>
            <br /><br />
            <button id="signPayloadRaw">Sign Payload (Raw)</button>
            <br /><br />
            <button id="signPayloadOperation">Sign Payload (Operation)</button>
            <br /><br />
            <button id="signPayloadMicheline">Sign Payload (Micheline)</button>
            <br /><br />
            ---
            <br /><br />
            <button id="encryptPayload">Encrypt Payload</button>
            <br /><br />
            ---
            <br /><br />
            <button id="getExtensions">Get Extensions</button>
            <br /><br />
            ---
            <br /><br />
            <button id="clearActiveAccount">Clear ActiveAccount</button>
            <br /><br />
            <button id="getAccounts">Get Accounts</button>
            <br /><br />
            <button id="switchAccount">Switch Accounts</button>
            <br /><br />
            ---
            <br /><br />
            Reproducing bugs:
            <br /><br />
            <button id="externalInit">External Init</button>
            <br /><br />
            <button id="2requests">2 requests at once</button>
            <br /><br />
            ---
            <br /><br />
            <button id="removePeer">Remove Peer</button>
            <br /><br />
            ---
            <br /><br />
            <span>
              Color Mode:
              <span id="activeColorMode"></span>
            </span>
            <br /><br />
            <button id="color-mode-light">Set color mode "light"</button>
            <br /><br />
            <button id="color-mode-dark">Set color mode "dark"</button>
            <br /><br />
            ---
            <br /><br />
            <button id="contractCall">Contract Call</button>
            <br /><br />
            <textarea id="beacon-textbox"></textarea>
            <button id="deserializeData">Deserialize Data</button>
            <br /><br />
            ---
            <br /><br />
            <button id="reset">Reset and Refresh</button>
            <br /><br />
            <p style="margin-top: 1000px;">End of page</p>
        
          </div>
    </section>
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
        function conT1(){
            document.getElementById('tok1').style.display = "block";
            document.getElementById('select1').style.display = "none";
            document.getElementById('inputnum1').value = 1;
            document.getElementById('numOT1').textContent = '1';
        }
        function canT1(){
            document.getElementById('tok1').style.display = "none";
            document.getElementById('select1').style.display = "block";
            document.getElementById('inputnum1').value = 0;
            document.getElementById('numOT1').textContent = '0';
        }
        function stepUp1() {
            document.getElementById('inputnum1').stepUp();
            document.getElementById('numOT1').textContent = document.getElementById('inputnum1').value
        }

        function stepDown1() {
            document.getElementById('inputnum1').stepDown();
            document.getElementById('numOT1').textContent = document.getElementById('inputnum1').value
        }

        function conT2(){
            document.getElementById('tok2').style.display = "block";
            document.getElementById('select2').style.display = "none";
            document.getElementById('inputnum2').value = 1;
            document.getElementById('numOT2').textContent = '1';
        }
        function canT2(){
            document.getElementById('tok2').style.display = "none";
            document.getElementById('select2').style.display = "block";
            document.getElementById('inputnum2').value = 0;
            document.getElementById('numOT2').textContent = '0';
        }
        function stepUp2() {
            document.getElementById('inputnum2').stepUp();
            document.getElementById('numOT2').textContent = document.getElementById('inputnum2').value
        }

        function stepDown2() {
            document.getElementById('inputnum2').stepDown();
            document.getElementById('numOT2').textContent = document.getElementById('inputnum2').value
        }
    </script>
    <script >
        // Initiate DAppClient
        const client = new beacon.DAppClient({
          name: 'Example DApp', // Name of the DApp,
          disclaimerText: 'This is an optional <b>disclaimer</b>.'
          // preferredNetwork: beacon.NetworkType.DELPHINET
          // matrixNodes: ['test.papers.tech', 'test2.papers.tech', 'matrix.papers.tech']
          // matrixNodes: ['beacon-node-0.papers.tech:8448']
          // matrixNodes: ['matrix.papers.tech']
          // matrixNodes: ['beacon.tztip.me']
        })
    
        // Display the active account in the UI
        const updateActiveAccount = () => {
          client.getActiveAccount().then((activeAccount) => {
            var connectdie = "hola"
            if (activeAccount) {
              document.getElementById('activeAccount').innerHTML = activeAccount.address
              document.getElementById('activeAccountNetwork').innerHTML = activeAccount.network.type
              document.getElementById('activeAccountTransport').innerHTML = activeAccount.origin.type
              connectdie ="conectado"
              document.getElementById('requestPermission').style.display = "none";
              document.getElementById('reset').style.display = "block";
              
              
            } else {
              document.getElementById('activeAccount').innerHTML = ''
              document.getElementById('activeAccountNetwork').innerHTML = ''
              document.getElementById('activeAccountTransport').innerHTML = ''
              connectdie ="no conectado"
              document.getElementById('requestPermission').style.display = "block";
              document.getElementById('reset').style.display = "none";
              
            }
    
            
          })
          
        }
        
        updateActiveAccount() 
    
        // Display the active account in the UI
        const updateColorMode = () => {
          client.getColorMode().then((colorMode) => {
            document.getElementById('activeColorMode').innerHTML = colorMode
          })
        }
        updateColorMode()
    
        // Initiate a delegate operation
        const delegate = () => {
          client.requestOperation({
            operationDetails: [
              {
                kind: beacon.TezosOperationType.DELEGATION,
                delegate: 'tz1MJx9vhaNRSimcuXPK2rW4fLccQnDAnVKJ'
              }
            ]
          })
        }
    
        // Initiate a delegate operation
        const sendToSelf = () => {
          return client.getActiveAccount().then((activeAccount) => {
            return client.requestOperation({
              operationDetails: [
                {
                  kind: beacon.TezosOperationType.TRANSACTION,
                  destination: activeAccount?.address ?? '',
                  amount: '1'
                }
              ]
            })
          })
        }
    
        // Initiate a permission request
        const requestPermission = (callback) => {
          client
            .requestPermissions({ network: { type: beacon.NetworkType.GRANADANET } })
            .then((permissions) => {
              console.log('permissions', permissions)
              if (callback) {
                callback(permissions)
              }
              updateActiveAccount()
            })
            .catch((error) => {
              console.log('error during permission request', error)
            })
        }
    
        // Add event listener to the button
        document.getElementById('connect').addEventListener('click', () => {
          // Check if we have an active account
          client.getActiveAccount().then((activeAccount) => {
            if (activeAccount) {
              // If we have an active account, send the delegate operation directly
              delegate()
            } else {
              // If we don't have an active account, we need to request permissions first and then send the delegate operation
              requestPermission((permissions) => {
                delegate()
                updateActiveAccount()
              })
            }
          })
        })
    
        // Add event listener to the button
        document.getElementById('requestPermission').addEventListener('click', () => {
          requestPermission()
        })
    
        // Add event listener to the button
        document.getElementById('reset').addEventListener('click', () => {
          client.destroy().then(() => {
            window.location.reload()
          })
        })
    
        // Add event listener to the button
        document.getElementById('signPayloadRaw').addEventListener('click', async () => {
          const signature = await client.requestSignPayload({
            payload: 'test'
          })
    
          console.log('signature:', signature)
        })
    
        // Add event listener to the button
        document.getElementById('encryptPayload').addEventListener('click', async () => {
          const encryptionResponse = await client.requestEncryptPayload({
            encryptionType: beacon.EncryptionType.ASYMMETRIC,
            encryptionCryptoOperation: beacon.EncryptionOperation.ENCRYPT,
            payload: 'my-secret-string'
          })
    
          console.log('encrypted payload', encryptionResponse.payload)
    
          await new Promise((resolve) => setTimeout(resolve, 2000))
    
          const decryptionResponse = await client.requestEncryptPayload({
            encryptionType: beacon.EncryptionType.ASYMMETRIC,
            encryptionCryptoOperation: beacon.EncryptionOperation.DECRYPT,
            payload: encryptionResponse.payload
          })
    
          console.log('decrypted payload', decryptionResponse.payload)
        })
    
        // Add event listener to the button
        document.getElementById('signPayloadOperation').addEventListener('click', async () => {
          const signature = await client.requestSignPayload({
            signingType: beacon.SigningType.OPERATION,
            payload: '03test'
          })
    
          console.log('signature:', signature)
        })
    
        // Add event listener to the button
        document.getElementById('signPayloadMicheline').addEventListener('click', async () => {
          const signature = await client.requestSignPayload({
            signingType: beacon.SigningType.MICHELINE,
            payload: '05test'
          })
    
          console.log('signature:', signature)
        })
    
        // Add event listener to the button
        document.getElementById('clearActiveAccount').addEventListener('click', () => {
          client.setActiveAccount().then(() => {
            updateActiveAccount()
          })
        })
    
        // Add event listener to the button
        document.getElementById('getExtensions').addEventListener('click', () => {
          beacon.availableTransports.availableExtensions.then((extensions) => {
            console.log(extensions)
            alert(
              `There are ${extensions.length} extensions installed. Check the console for more info.`
            )
          })
        })
    
        // Add event listener to the button
        document.getElementById('getAccounts').addEventListener('click', () => {
          client.getAccounts().then((accounts) => {
            console.log(accounts)
            alert(`There are ${accounts.length} accounts stored. Check the console for more info.`)
          })
        })
    
        // Add event listener to the button
        document.getElementById('switchAccount').addEventListener('click', () => {
          client.getAccounts().then((accounts) => {
            client.getActiveAccount().then((activeAccount) => {
              if (!activeAccount) {
                if (accounts.length === 0) {
                  return alert('No account to switch to')
                }
    
                return client.setActiveAccount(accounts[0]).then(() => {
                  updateActiveAccount()
                })
              }
              const filtered = accounts.filter(
                (acc) => acc.accountIdentifier !== activeAccount.accountIdentifier
              )
              if (filtered.length === 0) {
                return alert('No account to switch to')
              }
    
              client.setActiveAccount(filtered[0]).then(() => {
                updateActiveAccount()
              })
            })
          })
        })
    
        // Add event listener to the button
        document.getElementById('removePeer').addEventListener('click', () => {
          client.getPeers().then((peers) => {
            if (peers.length > 0) {
              client.removePeer(peers[0], true).then(() => {
                console.log('peer removed', peers[0])
                updateActiveAccount()
              })
            } else {
              console.log('no peers to be removed')
            }
          })
        })
    
        document.getElementById('externalInit').addEventListener('click', () => {
          console.log('This method has to be called directly after page load to reproduce the error')
          client.init().then(() => {
            console.log('init done')
            client.requestPermissions().then((permissions) => {
              console.log('permissions', permissions)
              if (callback) {
                callback(permissions)
              }
              updateActiveAccount()
            })
          })
        })
    
        // Add event listener to the button
        document.getElementById('contractCall').addEventListener('click', () => {
          client
            .requestOperation({
              operationDetails: [
{
  kind: beacon.TezosOperationType.TRANSACTION,
  source: "tz1QoBmGHY7K7w77GVZxRo1fyVKvJDgQsVFC", //  quien llama la accion
  fee: "1000",
  counter: "15020650",
  gas_limit: "8000",
  storage_limit: "250",
  amount: "0",
  destination: "KT1NLqaYrYN4FyhfzyxuWywPG4iuB21497c9", // 
  parameters: {
    entrypoint: "update_operators",
    value: [
      {
        prim: "Left",
        args: [
          {
            prim: "Pair",
            args: [
              {
                string: "tz1QoBmGHY7K7w77GVZxRo1fyVKvJDgQsVFC"
              },
              {
                prim: "Pair",
                args: [
                  {
                    string: "KT19GHinb8REd8NEwV4PYMmY1Do1c5HXM3dK" // contrato blild gallery
                  },
                  {
                    int: "0"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
},

        {
          destination: "KT19GHinb8REd8NEwV4PYMmY1Do1c5HXM3dK",
          kind: "transaction",
          amount: 0,
          parameters: {
            entrypoint: "buy_art_piece",
            value: {
              int: "5"
            }
          }
        }
      

]
            })
            .then((response) => console.log(response))
            .catch((error) => console.log(error))
        })
    
        // Add event listener to the button
        document.getElementById('2requests').addEventListener('click', () => {
          setTimeout(sendToSelf, 0)
          setTimeout(sendToSelf, 1000)
        })
    
        // Add event listener to the button
        document.getElementById('sendToSelf').addEventListener('click', () => {
          sendToSelf()
        })
    
        // Add event listener to the button
        document.getElementById('sendToSelfWithPrepare').addEventListener('click', () => {
          client.showPrepare()
          setTimeout(() => {
            sendToSelf().catch((e) => {
              client.hideUI()
            })
          }, 2000)
        })
    
        // Add event listener to the button
        document.getElementById('showPrepareAndHide').addEventListener('click', () => {
          client.showPrepare()
          setTimeout(() => {
            client.hideUI()
          }, 2000)
        })
    
        // Add event listener to the button
        document.getElementById('color-mode-light').addEventListener('click', () => {
          client.setColorMode('light')
          updateColorMode()
        })
    
        // Add event listener to the button
        document.getElementById('color-mode-dark').addEventListener('click', () => {
          client.setColorMode('dark')
          updateColorMode()
        })
    
        // Add event listener to the button
        document.getElementById('deserializeData').addEventListener('click', () => {
          const value = document.getElementById('beacon-textbox').value
          console.log('Deserializing:', value)
          new beacon.Serializer().deserialize(value).then(console.log).catch(console.error)
        })
    </script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  </body>
</html>